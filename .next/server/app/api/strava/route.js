"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/strava/route";
exports.ids = ["app/api/strava/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstrava%2Froute&page=%2Fapi%2Fstrava%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstrava%2Froute.ts&appDir=%2FUsers%2Fx%2FDesktop%2Fvibes%2Fme%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fx%2FDesktop%2Fvibes%2Fme&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstrava%2Froute&page=%2Fapi%2Fstrava%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstrava%2Froute.ts&appDir=%2FUsers%2Fx%2FDesktop%2Fvibes%2Fme%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fx%2FDesktop%2Fvibes%2Fme&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_x_Desktop_vibes_me_src_app_api_strava_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/strava/route.ts */ \"(rsc)/./src/app/api/strava/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/strava/route\",\n        pathname: \"/api/strava\",\n        filename: \"route\",\n        bundlePath: \"app/api/strava/route\"\n    },\n    resolvedPagePath: \"/Users/x/Desktop/vibes/me/src/app/api/strava/route.ts\",\n    nextConfigOutput,\n    userland: _Users_x_Desktop_vibes_me_src_app_api_strava_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/strava/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzdHJhdmElMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnN0cmF2YSUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnN0cmF2YSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnglMkZEZXNrdG9wJTJGdmliZXMlMkZtZSUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZ4JTJGRGVza3RvcCUyRnZpYmVzJTJGbWUmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDSztBQUNsRjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzZKOztBQUU3SiIsInNvdXJjZXMiOlsid2VicGFjazovL3BlcnNvbmFsLXdlYnNpdGUvP2ZiYmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL3gvRGVza3RvcC92aWJlcy9tZS9zcmMvYXBwL2FwaS9zdHJhdmEvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3N0cmF2YS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3N0cmF2YVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvc3RyYXZhL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL3gvRGVza3RvcC92aWJlcy9tZS9zcmMvYXBwL2FwaS9zdHJhdmEvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvc3RyYXZhL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstrava%2Froute&page=%2Fapi%2Fstrava%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstrava%2Froute.ts&appDir=%2FUsers%2Fx%2FDesktop%2Fvibes%2Fme%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fx%2FDesktop%2Fvibes%2Fme&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/strava/route.ts":
/*!*************************************!*\
  !*** ./src/app/api/strava/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n// Cache object to store Strava data\nlet stravaCache = {\n    data: null,\n    timestamp: 0\n};\nconst CACHE_DURATION = 5 * 60 * 1000; // 5 minutes in milliseconds\nconst TOKENS_FILE = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), \".env.local\");\nconst STRAVA_ACCESS_TOKEN = process.env.STRAVA_ACCESS_TOKEN;\nconst STRAVA_REFRESH_TOKEN = process.env.STRAVA_REFRESH_TOKEN;\nconst STRAVA_CLIENT_ID = process.env.STRAVA_CLIENT_ID;\nconst STRAVA_CLIENT_SECRET = process.env.STRAVA_CLIENT_SECRET;\nconst STRAVA_ATHLETE_ID = \"68781812\";\n// Rate limiting\nlet lastRequestTime = 0;\nconst MIN_REQUEST_INTERVAL = 1000; // 1 second between requests\nasync function refreshStravaToken() {\n    try {\n        console.log(\"Refreshing Strava token...\");\n        console.log(\"Using refresh token:\", STRAVA_REFRESH_TOKEN?.substring(0, 10) + \"...\");\n        console.log(\"Using client ID:\", STRAVA_CLIENT_ID);\n        console.log(\"Using client secret:\", STRAVA_CLIENT_SECRET?.substring(0, 5) + \"...\");\n        if (!STRAVA_REFRESH_TOKEN || !STRAVA_CLIENT_ID || !STRAVA_CLIENT_SECRET) {\n            throw new Error(\"Missing required credentials for token refresh\");\n        }\n        const response = await fetch(\"https://www.strava.com/oauth/token\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                client_id: STRAVA_CLIENT_ID,\n                client_secret: STRAVA_CLIENT_SECRET,\n                refresh_token: STRAVA_REFRESH_TOKEN,\n                grant_type: \"refresh_token\"\n            })\n        });\n        const responseData = await response.json();\n        console.log(\"Strava token refresh response:\", {\n            status: response.status,\n            ok: response.ok,\n            data: {\n                ...responseData,\n                access_token: responseData.access_token?.substring(0, 10) + \"...\",\n                refresh_token: responseData.refresh_token?.substring(0, 10) + \"...\"\n            }\n        });\n        if (!response.ok) {\n            throw new Error(`Failed to refresh token: ${JSON.stringify(responseData)}`);\n        }\n        if (!responseData.access_token || !responseData.refresh_token) {\n            throw new Error(\"Invalid token refresh response: missing tokens\");\n        }\n        // Update .env.local with new tokens\n        try {\n            let envContent = fs__WEBPACK_IMPORTED_MODULE_1___default().readFileSync(TOKENS_FILE, \"utf8\");\n            const lines = envContent.split(\"\\n\");\n            const updatedLines = lines.map((line)=>{\n                if (line.startsWith(\"STRAVA_ACCESS_TOKEN=\")) {\n                    return `STRAVA_ACCESS_TOKEN=${responseData.access_token}`;\n                }\n                if (line.startsWith(\"STRAVA_REFRESH_TOKEN=\")) {\n                    return `STRAVA_REFRESH_TOKEN=${responseData.refresh_token}`;\n                }\n                return line;\n            });\n            fs__WEBPACK_IMPORTED_MODULE_1___default().writeFileSync(TOKENS_FILE, updatedLines.join(\"\\n\"));\n            console.log(\"Updated .env.local with new tokens\");\n        } catch (fileError) {\n            console.error(\"Error updating .env.local:\", fileError);\n        // Don't throw here, we can still use the new tokens in memory\n        }\n        return responseData.access_token;\n    } catch (error) {\n        console.error(\"Error refreshing Strava token:\", error);\n        throw error;\n    }\n}\nasync function fetchStravaData(accessToken) {\n    try {\n        // Rate limiting\n        const now = Date.now();\n        const timeSinceLastRequest = now - lastRequestTime;\n        if (timeSinceLastRequest < MIN_REQUEST_INTERVAL) {\n            console.log(\"Rate limited, returning cached data\");\n            return stravaCache.data;\n        }\n        lastRequestTime = now;\n        console.log(\"Fetching Strava data...\");\n        console.log(\"Using access token:\", accessToken.substring(0, 10) + \"...\");\n        // Try to refresh the token first\n        let currentToken = accessToken;\n        try {\n            const newToken = await refreshStravaToken();\n            currentToken = newToken;\n            console.log(\"Successfully refreshed token, using new token:\", currentToken.substring(0, 10) + \"...\");\n        } catch (refreshError) {\n            console.error(\"Failed to refresh token:\", refreshError);\n            throw new Error(\"Failed to refresh Strava token. Please re-authenticate.\");\n        }\n        // Now fetch activities with the new token\n        const response = await fetch(\"https://www.strava.com/api/v3/athlete/activities?per_page=5\", {\n            headers: {\n                Authorization: `Bearer ${currentToken}`\n            }\n        });\n        const responseData = await response.json();\n        console.log(\"Strava API response:\", {\n            status: response.status,\n            ok: response.ok,\n            data: responseData,\n            dataLength: Array.isArray(responseData) ? responseData.length : \"not an array\",\n            activities: Array.isArray(responseData) ? responseData.map((activity)=>({\n                    id: activity.id,\n                    type: activity.type,\n                    name: activity.name,\n                    distance: activity.distance,\n                    moving_time: activity.moving_time,\n                    start_date: activity.start_date,\n                    location_city: activity.location_city,\n                    location_state: activity.location_state,\n                    location_country: activity.location_country,\n                    average_heartrate: activity.average_heartrate,\n                    max_heartrate: activity.max_heartrate,\n                    has_heartrate: activity.has_heartrate,\n                    trainer: activity.trainer,\n                    commute: activity.commute,\n                    manual: activity.manual,\n                    private: activity.private,\n                    visibility: activity.visibility,\n                    flagged: activity.flagged,\n                    gear_id: activity.gear_id,\n                    average_speed: activity.average_speed,\n                    max_speed: activity.max_speed,\n                    total_elevation_gain: activity.total_elevation_gain,\n                    achievement_count: activity.achievement_count,\n                    kudos_count: activity.kudos_count,\n                    comment_count: activity.comment_count,\n                    athlete_count: activity.athlete_count,\n                    photo_count: activity.photo_count,\n                    map: activity.map ? \"present\" : \"absent\",\n                    start_latlng: activity.start_latlng,\n                    end_latlng: activity.end_latlng,\n                    timezone: activity.timezone,\n                    utc_offset: activity.utc_offset,\n                    location: {\n                        city: activity.location_city,\n                        state: activity.location_state,\n                        country: activity.location_country,\n                        start_latlng: activity.start_latlng,\n                        end_latlng: activity.end_latlng\n                    }\n                })) : \"not an array\"\n        });\n        if (!response.ok) {\n            if (response.status === 429) {\n                // If rate limited and we have cached data, return it\n                if (stravaCache.data && Date.now() - stravaCache.timestamp < CACHE_DURATION) {\n                    console.log(\"Rate limited, returning cached data\");\n                    return stravaCache.data;\n                }\n                throw new Error(\"Rate limit exceeded. Please try again later.\");\n            }\n            if (response.status === 401) {\n                console.error(\"Token still invalid after refresh:\", responseData);\n                throw new Error(\"Authentication failed. Please re-authenticate with Strava.\");\n            }\n            throw new Error(`Failed to fetch Strava data: ${JSON.stringify(responseData)}`);\n        }\n        // Update cache\n        stravaCache = {\n            data: responseData,\n            timestamp: Date.now()\n        };\n        return responseData;\n    } catch (error) {\n        console.error(\"Error fetching Strava data:\", error);\n        throw error;\n    }\n}\nasync function GET() {\n    try {\n        console.log(\"Checking environment variables...\");\n        console.log(\"Has access token:\", !!STRAVA_ACCESS_TOKEN);\n        console.log(\"Has refresh token:\", !!STRAVA_REFRESH_TOKEN);\n        console.log(\"Has client ID:\", !!STRAVA_CLIENT_ID);\n        console.log(\"Has client secret:\", !!STRAVA_CLIENT_SECRET);\n        if (!STRAVA_ACCESS_TOKEN || !STRAVA_REFRESH_TOKEN || !STRAVA_CLIENT_ID || !STRAVA_CLIENT_SECRET) {\n            console.error(\"Missing environment variables:\", {\n                hasAccessToken: !!STRAVA_ACCESS_TOKEN,\n                hasRefreshToken: !!STRAVA_REFRESH_TOKEN,\n                hasClientId: !!STRAVA_CLIENT_ID,\n                hasClientSecret: !!STRAVA_CLIENT_SECRET\n            });\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Missing required environment variables\"\n            }, {\n                status: 500\n            });\n        }\n        // Check if we have valid cached data\n        if (stravaCache.data && Date.now() - stravaCache.timestamp < CACHE_DURATION) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json(stravaCache.data);\n        }\n        const data = await fetchStravaData(STRAVA_ACCESS_TOKEN);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json(data);\n    } catch (error) {\n        console.error(\"Error in GET handler:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: error.message || \"Failed to fetch Strava data\"\n        }, {\n            status: 500\n        });\n    }\n}\nfunction formatDuration(seconds) {\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = seconds % 60;\n    return `${minutes}:${remainingSeconds.toString().padStart(2, \"0\")}`;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aUJBQWlCQyxRQUFRLEdBQUdDLFFBQVEsQ0FBQyxHQUFHLEtBQUssQ0FBQztBQUNyRSIsInNvdXJjZXMiOlsid2VicGFjazovL3BlcnNvbmFsLXdlYnNpdGUvLi9zcmMvYXBwL2FwaS9zdHJhdmEvcm91dGUudHM/MTAyNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5cbi8vIENhY2hlIG9iamVjdCB0byBzdG9yZSBTdHJhdmEgZGF0YVxubGV0IHN0cmF2YUNhY2hlID0ge1xuICBkYXRhOiBudWxsLFxuICB0aW1lc3RhbXA6IDAsXG59O1xuXG5jb25zdCBDQUNIRV9EVVJBVElPTiA9IDUgKiA2MCAqIDEwMDA7IC8vIDUgbWludXRlcyBpbiBtaWxsaXNlY29uZHNcbmNvbnN0IFRPS0VOU19GSUxFID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICcuZW52LmxvY2FsJyk7XG5cbmNvbnN0IFNUUkFWQV9BQ0NFU1NfVE9LRU4gPSBwcm9jZXNzLmVudi5TVFJBVkFfQUNDRVNTX1RPS0VOO1xuY29uc3QgU1RSQVZBX1JFRlJFU0hfVE9LRU4gPSBwcm9jZXNzLmVudi5TVFJBVkFfUkVGUkVTSF9UT0tFTjtcbmNvbnN0IFNUUkFWQV9DTElFTlRfSUQgPSBwcm9jZXNzLmVudi5TVFJBVkFfQ0xJRU5UX0lEO1xuY29uc3QgU1RSQVZBX0NMSUVOVF9TRUNSRVQgPSBwcm9jZXNzLmVudi5TVFJBVkFfQ0xJRU5UX1NFQ1JFVDtcbmNvbnN0IFNUUkFWQV9BVEhMRVRFX0lEID0gJzY4NzgxODEyJztcblxuLy8gUmF0ZSBsaW1pdGluZ1xubGV0IGxhc3RSZXF1ZXN0VGltZSA9IDA7XG5jb25zdCBNSU5fUkVRVUVTVF9JTlRFUlZBTCA9IDEwMDA7IC8vIDEgc2Vjb25kIGJldHdlZW4gcmVxdWVzdHNcblxuYXN5bmMgZnVuY3Rpb24gcmVmcmVzaFN0cmF2YVRva2VuKCkge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCdSZWZyZXNoaW5nIFN0cmF2YSB0b2tlbi4uLicpO1xuICAgIGNvbnNvbGUubG9nKCdVc2luZyByZWZyZXNoIHRva2VuOicsIFNUUkFWQV9SRUZSRVNIX1RPS0VOPy5zdWJzdHJpbmcoMCwgMTApICsgJy4uLicpO1xuICAgIGNvbnNvbGUubG9nKCdVc2luZyBjbGllbnQgSUQ6JywgU1RSQVZBX0NMSUVOVF9JRCk7XG4gICAgY29uc29sZS5sb2coJ1VzaW5nIGNsaWVudCBzZWNyZXQ6JywgU1RSQVZBX0NMSUVOVF9TRUNSRVQ/LnN1YnN0cmluZygwLCA1KSArICcuLi4nKTtcblxuICAgIGlmICghU1RSQVZBX1JFRlJFU0hfVE9LRU4gfHwgIVNUUkFWQV9DTElFTlRfSUQgfHwgIVNUUkFWQV9DTElFTlRfU0VDUkVUKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgY3JlZGVudGlhbHMgZm9yIHRva2VuIHJlZnJlc2gnKTtcbiAgICB9XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwczovL3d3dy5zdHJhdmEuY29tL29hdXRoL3Rva2VuJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBjbGllbnRfaWQ6IFNUUkFWQV9DTElFTlRfSUQsXG4gICAgICAgIGNsaWVudF9zZWNyZXQ6IFNUUkFWQV9DTElFTlRfU0VDUkVULFxuICAgICAgICByZWZyZXNoX3Rva2VuOiBTVFJBVkFfUkVGUkVTSF9UT0tFTixcbiAgICAgICAgZ3JhbnRfdHlwZTogJ3JlZnJlc2hfdG9rZW4nLFxuICAgICAgfSksXG4gICAgfSk7XG5cbiAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgY29uc29sZS5sb2coJ1N0cmF2YSB0b2tlbiByZWZyZXNoIHJlc3BvbnNlOicsIHtcbiAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgb2s6IHJlc3BvbnNlLm9rLFxuICAgICAgZGF0YToge1xuICAgICAgICAuLi5yZXNwb25zZURhdGEsXG4gICAgICAgIGFjY2Vzc190b2tlbjogcmVzcG9uc2VEYXRhLmFjY2Vzc190b2tlbj8uc3Vic3RyaW5nKDAsIDEwKSArICcuLi4nLFxuICAgICAgICByZWZyZXNoX3Rva2VuOiByZXNwb25zZURhdGEucmVmcmVzaF90b2tlbj8uc3Vic3RyaW5nKDAsIDEwKSArICcuLi4nXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byByZWZyZXNoIHRva2VuOiAke0pTT04uc3RyaW5naWZ5KHJlc3BvbnNlRGF0YSl9YCk7XG4gICAgfVxuXG4gICAgaWYgKCFyZXNwb25zZURhdGEuYWNjZXNzX3Rva2VuIHx8ICFyZXNwb25zZURhdGEucmVmcmVzaF90b2tlbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHRva2VuIHJlZnJlc2ggcmVzcG9uc2U6IG1pc3NpbmcgdG9rZW5zJyk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIC5lbnYubG9jYWwgd2l0aCBuZXcgdG9rZW5zXG4gICAgdHJ5IHtcbiAgICAgIGxldCBlbnZDb250ZW50ID0gZnMucmVhZEZpbGVTeW5jKFRPS0VOU19GSUxFLCAndXRmOCcpO1xuICAgICAgY29uc3QgbGluZXMgPSBlbnZDb250ZW50LnNwbGl0KCdcXG4nKTtcbiAgICAgIGNvbnN0IHVwZGF0ZWRMaW5lcyA9IGxpbmVzLm1hcChsaW5lID0+IHtcbiAgICAgICAgaWYgKGxpbmUuc3RhcnRzV2l0aCgnU1RSQVZBX0FDQ0VTU19UT0tFTj0nKSkge1xuICAgICAgICAgIHJldHVybiBgU1RSQVZBX0FDQ0VTU19UT0tFTj0ke3Jlc3BvbnNlRGF0YS5hY2Nlc3NfdG9rZW59YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGluZS5zdGFydHNXaXRoKCdTVFJBVkFfUkVGUkVTSF9UT0tFTj0nKSkge1xuICAgICAgICAgIHJldHVybiBgU1RSQVZBX1JFRlJFU0hfVE9LRU49JHtyZXNwb25zZURhdGEucmVmcmVzaF90b2tlbn1gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaW5lO1xuICAgICAgfSk7XG5cbiAgICAgIGZzLndyaXRlRmlsZVN5bmMoVE9LRU5TX0ZJTEUsIHVwZGF0ZWRMaW5lcy5qb2luKCdcXG4nKSk7XG4gICAgICBjb25zb2xlLmxvZygnVXBkYXRlZCAuZW52LmxvY2FsIHdpdGggbmV3IHRva2VucycpO1xuICAgIH0gY2F0Y2ggKGZpbGVFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgLmVudi5sb2NhbDonLCBmaWxlRXJyb3IpO1xuICAgICAgLy8gRG9uJ3QgdGhyb3cgaGVyZSwgd2UgY2FuIHN0aWxsIHVzZSB0aGUgbmV3IHRva2VucyBpbiBtZW1vcnlcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzcG9uc2VEYXRhLmFjY2Vzc190b2tlbjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZWZyZXNoaW5nIFN0cmF2YSB0b2tlbjonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hTdHJhdmFEYXRhKGFjY2Vzc1Rva2VuOiBzdHJpbmcpIHtcbiAgdHJ5IHtcbiAgICAvLyBSYXRlIGxpbWl0aW5nXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCB0aW1lU2luY2VMYXN0UmVxdWVzdCA9IG5vdyAtIGxhc3RSZXF1ZXN0VGltZTtcbiAgICBpZiAodGltZVNpbmNlTGFzdFJlcXVlc3QgPCBNSU5fUkVRVUVTVF9JTlRFUlZBTCkge1xuICAgICAgY29uc29sZS5sb2coJ1JhdGUgbGltaXRlZCwgcmV0dXJuaW5nIGNhY2hlZCBkYXRhJyk7XG4gICAgICByZXR1cm4gc3RyYXZhQ2FjaGUuZGF0YTtcbiAgICB9XG4gICAgbGFzdFJlcXVlc3RUaW1lID0gbm93O1xuXG4gICAgY29uc29sZS5sb2coJ0ZldGNoaW5nIFN0cmF2YSBkYXRhLi4uJyk7XG4gICAgY29uc29sZS5sb2coJ1VzaW5nIGFjY2VzcyB0b2tlbjonLCBhY2Nlc3NUb2tlbi5zdWJzdHJpbmcoMCwgMTApICsgJy4uLicpO1xuICAgIFxuICAgIC8vIFRyeSB0byByZWZyZXNoIHRoZSB0b2tlbiBmaXJzdFxuICAgIGxldCBjdXJyZW50VG9rZW4gPSBhY2Nlc3NUb2tlbjtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbmV3VG9rZW4gPSBhd2FpdCByZWZyZXNoU3RyYXZhVG9rZW4oKTtcbiAgICAgIGN1cnJlbnRUb2tlbiA9IG5ld1Rva2VuO1xuICAgICAgY29uc29sZS5sb2coJ1N1Y2Nlc3NmdWxseSByZWZyZXNoZWQgdG9rZW4sIHVzaW5nIG5ldyB0b2tlbjonLCBjdXJyZW50VG9rZW4uc3Vic3RyaW5nKDAsIDEwKSArICcuLi4nKTtcbiAgICB9IGNhdGNoIChyZWZyZXNoRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byByZWZyZXNoIHRva2VuOicsIHJlZnJlc2hFcnJvcik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byByZWZyZXNoIFN0cmF2YSB0b2tlbi4gUGxlYXNlIHJlLWF1dGhlbnRpY2F0ZS4nKTtcbiAgICB9XG5cbiAgICAvLyBOb3cgZmV0Y2ggYWN0aXZpdGllcyB3aXRoIHRoZSBuZXcgdG9rZW5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgJ2h0dHBzOi8vd3d3LnN0cmF2YS5jb20vYXBpL3YzL2F0aGxldGUvYWN0aXZpdGllcz9wZXJfcGFnZT01JyxcbiAgICAgIHtcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHtjdXJyZW50VG9rZW59YCxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICApO1xuXG4gICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIGNvbnNvbGUubG9nKCdTdHJhdmEgQVBJIHJlc3BvbnNlOicsIHtcbiAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgb2s6IHJlc3BvbnNlLm9rLFxuICAgICAgZGF0YTogcmVzcG9uc2VEYXRhLFxuICAgICAgZGF0YUxlbmd0aDogQXJyYXkuaXNBcnJheShyZXNwb25zZURhdGEpID8gcmVzcG9uc2VEYXRhLmxlbmd0aCA6ICdub3QgYW4gYXJyYXknLFxuICAgICAgYWN0aXZpdGllczogQXJyYXkuaXNBcnJheShyZXNwb25zZURhdGEpID8gcmVzcG9uc2VEYXRhLm1hcChhY3Rpdml0eSA9PiAoe1xuICAgICAgICBpZDogYWN0aXZpdHkuaWQsXG4gICAgICAgIHR5cGU6IGFjdGl2aXR5LnR5cGUsXG4gICAgICAgIG5hbWU6IGFjdGl2aXR5Lm5hbWUsXG4gICAgICAgIGRpc3RhbmNlOiBhY3Rpdml0eS5kaXN0YW5jZSxcbiAgICAgICAgbW92aW5nX3RpbWU6IGFjdGl2aXR5Lm1vdmluZ190aW1lLFxuICAgICAgICBzdGFydF9kYXRlOiBhY3Rpdml0eS5zdGFydF9kYXRlLFxuICAgICAgICBsb2NhdGlvbl9jaXR5OiBhY3Rpdml0eS5sb2NhdGlvbl9jaXR5LFxuICAgICAgICBsb2NhdGlvbl9zdGF0ZTogYWN0aXZpdHkubG9jYXRpb25fc3RhdGUsXG4gICAgICAgIGxvY2F0aW9uX2NvdW50cnk6IGFjdGl2aXR5LmxvY2F0aW9uX2NvdW50cnksXG4gICAgICAgIGF2ZXJhZ2VfaGVhcnRyYXRlOiBhY3Rpdml0eS5hdmVyYWdlX2hlYXJ0cmF0ZSxcbiAgICAgICAgbWF4X2hlYXJ0cmF0ZTogYWN0aXZpdHkubWF4X2hlYXJ0cmF0ZSxcbiAgICAgICAgaGFzX2hlYXJ0cmF0ZTogYWN0aXZpdHkuaGFzX2hlYXJ0cmF0ZSxcbiAgICAgICAgdHJhaW5lcjogYWN0aXZpdHkudHJhaW5lcixcbiAgICAgICAgY29tbXV0ZTogYWN0aXZpdHkuY29tbXV0ZSxcbiAgICAgICAgbWFudWFsOiBhY3Rpdml0eS5tYW51YWwsXG4gICAgICAgIHByaXZhdGU6IGFjdGl2aXR5LnByaXZhdGUsXG4gICAgICAgIHZpc2liaWxpdHk6IGFjdGl2aXR5LnZpc2liaWxpdHksXG4gICAgICAgIGZsYWdnZWQ6IGFjdGl2aXR5LmZsYWdnZWQsXG4gICAgICAgIGdlYXJfaWQ6IGFjdGl2aXR5LmdlYXJfaWQsXG4gICAgICAgIGF2ZXJhZ2Vfc3BlZWQ6IGFjdGl2aXR5LmF2ZXJhZ2Vfc3BlZWQsXG4gICAgICAgIG1heF9zcGVlZDogYWN0aXZpdHkubWF4X3NwZWVkLFxuICAgICAgICB0b3RhbF9lbGV2YXRpb25fZ2FpbjogYWN0aXZpdHkudG90YWxfZWxldmF0aW9uX2dhaW4sXG4gICAgICAgIGFjaGlldmVtZW50X2NvdW50OiBhY3Rpdml0eS5hY2hpZXZlbWVudF9jb3VudCxcbiAgICAgICAga3Vkb3NfY291bnQ6IGFjdGl2aXR5Lmt1ZG9zX2NvdW50LFxuICAgICAgICBjb21tZW50X2NvdW50OiBhY3Rpdml0eS5jb21tZW50X2NvdW50LFxuICAgICAgICBhdGhsZXRlX2NvdW50OiBhY3Rpdml0eS5hdGhsZXRlX2NvdW50LFxuICAgICAgICBwaG90b19jb3VudDogYWN0aXZpdHkucGhvdG9fY291bnQsXG4gICAgICAgIG1hcDogYWN0aXZpdHkubWFwID8gJ3ByZXNlbnQnIDogJ2Fic2VudCcsXG4gICAgICAgIHN0YXJ0X2xhdGxuZzogYWN0aXZpdHkuc3RhcnRfbGF0bG5nLFxuICAgICAgICBlbmRfbGF0bG5nOiBhY3Rpdml0eS5lbmRfbGF0bG5nLFxuICAgICAgICB0aW1lem9uZTogYWN0aXZpdHkudGltZXpvbmUsXG4gICAgICAgIHV0Y19vZmZzZXQ6IGFjdGl2aXR5LnV0Y19vZmZzZXQsXG4gICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgY2l0eTogYWN0aXZpdHkubG9jYXRpb25fY2l0eSxcbiAgICAgICAgICBzdGF0ZTogYWN0aXZpdHkubG9jYXRpb25fc3RhdGUsXG4gICAgICAgICAgY291bnRyeTogYWN0aXZpdHkubG9jYXRpb25fY291bnRyeSxcbiAgICAgICAgICBzdGFydF9sYXRsbmc6IGFjdGl2aXR5LnN0YXJ0X2xhdGxuZyxcbiAgICAgICAgICBlbmRfbGF0bG5nOiBhY3Rpdml0eS5lbmRfbGF0bG5nXG4gICAgICAgIH1cbiAgICAgIH0pKSA6ICdub3QgYW4gYXJyYXknXG4gICAgfSk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MjkpIHtcbiAgICAgICAgLy8gSWYgcmF0ZSBsaW1pdGVkIGFuZCB3ZSBoYXZlIGNhY2hlZCBkYXRhLCByZXR1cm4gaXRcbiAgICAgICAgaWYgKHN0cmF2YUNhY2hlLmRhdGEgJiYgRGF0ZS5ub3coKSAtIHN0cmF2YUNhY2hlLnRpbWVzdGFtcCA8IENBQ0hFX0RVUkFUSU9OKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1JhdGUgbGltaXRlZCwgcmV0dXJuaW5nIGNhY2hlZCBkYXRhJyk7XG4gICAgICAgICAgcmV0dXJuIHN0cmF2YUNhY2hlLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSYXRlIGxpbWl0IGV4Y2VlZGVkLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1Rva2VuIHN0aWxsIGludmFsaWQgYWZ0ZXIgcmVmcmVzaDonLCByZXNwb25zZURhdGEpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F1dGhlbnRpY2F0aW9uIGZhaWxlZC4gUGxlYXNlIHJlLWF1dGhlbnRpY2F0ZSB3aXRoIFN0cmF2YS4nKTtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIFN0cmF2YSBkYXRhOiAke0pTT04uc3RyaW5naWZ5KHJlc3BvbnNlRGF0YSl9YCk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIGNhY2hlXG4gICAgc3RyYXZhQ2FjaGUgPSB7XG4gICAgICBkYXRhOiByZXNwb25zZURhdGEsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgfTtcblxuICAgIHJldHVybiByZXNwb25zZURhdGE7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgU3RyYXZhIGRhdGE6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ0NoZWNraW5nIGVudmlyb25tZW50IHZhcmlhYmxlcy4uLicpO1xuICAgIGNvbnNvbGUubG9nKCdIYXMgYWNjZXNzIHRva2VuOicsICEhU1RSQVZBX0FDQ0VTU19UT0tFTik7XG4gICAgY29uc29sZS5sb2coJ0hhcyByZWZyZXNoIHRva2VuOicsICEhU1RSQVZBX1JFRlJFU0hfVE9LRU4pO1xuICAgIGNvbnNvbGUubG9nKCdIYXMgY2xpZW50IElEOicsICEhU1RSQVZBX0NMSUVOVF9JRCk7XG4gICAgY29uc29sZS5sb2coJ0hhcyBjbGllbnQgc2VjcmV0OicsICEhU1RSQVZBX0NMSUVOVF9TRUNSRVQpO1xuXG4gICAgaWYgKCFTVFJBVkFfQUNDRVNTX1RPS0VOIHx8ICFTVFJBVkFfUkVGUkVTSF9UT0tFTiB8fCAhU1RSQVZBX0NMSUVOVF9JRCB8fCAhU1RSQVZBX0NMSUVOVF9TRUNSRVQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ01pc3NpbmcgZW52aXJvbm1lbnQgdmFyaWFibGVzOicsIHtcbiAgICAgICAgaGFzQWNjZXNzVG9rZW46ICEhU1RSQVZBX0FDQ0VTU19UT0tFTixcbiAgICAgICAgaGFzUmVmcmVzaFRva2VuOiAhIVNUUkFWQV9SRUZSRVNIX1RPS0VOLFxuICAgICAgICBoYXNDbGllbnRJZDogISFTVFJBVkFfQ0xJRU5UX0lELFxuICAgICAgICBoYXNDbGllbnRTZWNyZXQ6ICEhU1RSQVZBX0NMSUVOVF9TRUNSRVRcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnTWlzc2luZyByZXF1aXJlZCBlbnZpcm9ubWVudCB2YXJpYWJsZXMnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIHZhbGlkIGNhY2hlZCBkYXRhXG4gICAgaWYgKHN0cmF2YUNhY2hlLmRhdGEgJiYgRGF0ZS5ub3coKSAtIHN0cmF2YUNhY2hlLnRpbWVzdGFtcCA8IENBQ0hFX0RVUkFUSU9OKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oc3RyYXZhQ2FjaGUuZGF0YSk7XG4gICAgfVxuXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IGZldGNoU3RyYXZhRGF0YShTVFJBVkFfQUNDRVNTX1RPS0VOKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZGF0YSk7XG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBHRVQgaGFuZGxlcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogZXJyb3IubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGZldGNoIFN0cmF2YSBkYXRhJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBmb3JtYXREdXJhdGlvbihzZWNvbmRzOiBudW1iZXIpOiBzdHJpbmcge1xuICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gNjApO1xuICBjb25zdCByZW1haW5pbmdTZWNvbmRzID0gc2Vjb25kcyAlIDYwO1xuICByZXR1cm4gYCR7bWludXRlc306JHtyZW1haW5pbmdTZWNvbmRzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gO1xufSAiXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZnMiLCJwYXRoIiwic3RyYXZhQ2FjaGUiLCJkYXRhIiwidGltZXN0YW1wIiwiQ0FDSEVfRFVSQVRJT04iLCJUT0tFTlNfRklMRSIsImpvaW4iLCJwcm9jZXNzIiwiY3dkIiwiU1RSQVZBX0FDQ0VTU19UT0tFTiIsImVudiIsIlNUUkFWQV9SRUZSRVNIX1RPS0VOIiwiU1RSQVZBX0NMSUVOVF9JRCIsIlNUUkFWQV9DTElFTlRfU0VDUkVUIiwiU1RSQVZBX0FUSExFVEVfSUQiLCJsYXN0UmVxdWVzdFRpbWUiLCJNSU5fUkVRVUVTVF9JTlRFUlZBTCIsInJlZnJlc2hTdHJhdmFUb2tlbiIsImNvbnNvbGUiLCJsb2ciLCJzdWJzdHJpbmciLCJFcnJvciIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjbGllbnRfaWQiLCJjbGllbnRfc2VjcmV0IiwicmVmcmVzaF90b2tlbiIsImdyYW50X3R5cGUiLCJyZXNwb25zZURhdGEiLCJqc29uIiwic3RhdHVzIiwib2siLCJhY2Nlc3NfdG9rZW4iLCJlbnZDb250ZW50IiwicmVhZEZpbGVTeW5jIiwibGluZXMiLCJzcGxpdCIsInVwZGF0ZWRMaW5lcyIsIm1hcCIsImxpbmUiLCJzdGFydHNXaXRoIiwid3JpdGVGaWxlU3luYyIsImZpbGVFcnJvciIsImVycm9yIiwiZmV0Y2hTdHJhdmFEYXRhIiwiYWNjZXNzVG9rZW4iLCJub3ciLCJEYXRlIiwidGltZVNpbmNlTGFzdFJlcXVlc3QiLCJjdXJyZW50VG9rZW4iLCJuZXdUb2tlbiIsInJlZnJlc2hFcnJvciIsIkF1dGhvcml6YXRpb24iLCJkYXRhTGVuZ3RoIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiYWN0aXZpdGllcyIsImFjdGl2aXR5IiwiaWQiLCJ0eXBlIiwibmFtZSIsImRpc3RhbmNlIiwibW92aW5nX3RpbWUiLCJzdGFydF9kYXRlIiwibG9jYXRpb25fY2l0eSIsImxvY2F0aW9uX3N0YXRlIiwibG9jYXRpb25fY291bnRyeSIsImF2ZXJhZ2VfaGVhcnRyYXRlIiwibWF4X2hlYXJ0cmF0ZSIsImhhc19oZWFydHJhdGUiLCJ0cmFpbmVyIiwiY29tbXV0ZSIsIm1hbnVhbCIsInByaXZhdGUiLCJ2aXNpYmlsaXR5IiwiZmxhZ2dlZCIsImdlYXJfaWQiLCJhdmVyYWdlX3NwZWVkIiwibWF4X3NwZWVkIiwidG90YWxfZWxldmF0aW9uX2dhaW4iLCJhY2hpZXZlbWVudF9jb3VudCIsImt1ZG9zX2NvdW50IiwiY29tbWVudF9jb3VudCIsImF0aGxldGVfY291bnQiLCJwaG90b19jb3VudCIsInN0YXJ0X2xhdGxuZyIsImVuZF9sYXRsbmciLCJ0aW1lem9uZSIsInV0Y19vZmZzZXQiLCJsb2NhdGlvbiIsImNpdHkiLCJzdGF0ZSIsImNvdW50cnkiLCJHRVQiLCJoYXNBY2Nlc3NUb2tlbiIsImhhc1JlZnJlc2hUb2tlbiIsImhhc0NsaWVudElkIiwiaGFzQ2xpZW50U2VjcmV0IiwibWVzc2FnZSIsImZvcm1hdER1cmF0aW9uIiwic2Vjb25kcyIsIm1pbnV0ZXMiLCJNYXRoIiwiZmxvb3IiLCJyZW1haW5pbmdTZWNvbmRzIiwidG9TdHJpbmciLCJwYWRTdGFydCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/strava/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstrava%2Froute&page=%2Fapi%2Fstrava%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstrava%2Froute.ts&appDir=%2FUsers%2Fx%2FDesktop%2Fvibes%2Fme%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fx%2FDesktop%2Fvibes%2Fme&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();